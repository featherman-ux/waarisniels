---
const SHOW_TOAST = false; // Zet op 'true' om de popup te activeren
---
<div
  id="hp-pop"
  class="fixed inset-x-4 bottom-4 z- mx-auto hidden max-w-lg rounded-2xl border bg-white/95 p-4 shadow-2xl backdrop-blur dark:border-gray-700 dark:bg-gray-800/95"
  role="dialog"
  aria-modal="false"
  aria-label="Melding"
>
  <div class="flex items-start gap-3">
    <div class="flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-amber-400 to-pink-500 text-white shadow">
      ✨
    </div>
    <div class="min-w-0 flex-1">
      <h3 class="mb-1 text-base font-bold text-gray-900 dark:text-gray-100">
        Holaaaaaaaa
      </h3>
      <p class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
        Als het goed is is er nu een nieuwe post met aftermovie!!! Hoop dat ik de site niet per ongeluk heb gemold weer lol.
      </p>
      <div class="mt-3 flex items-center gap-2">
        <a href="/map/" class="rounded-full border border-amber-500 px-3 py-1.5 text-sm font-semibold text-amber-700 hover:bg-amber-50 dark:text-amber-300 dark:hover:bg-amber-900/30">
          Bekijk kaart
        </a>
        <button id="hp-ok" class="rounded-full bg-gray-900 px-3 py-1.5 text-sm font-semibold text-white hover:opacity-90 dark:bg-gray-100 dark:text-gray-900">
          Oké, top!
        </button>
      </div>
    </div>
    <button id="hp-x" type="button" aria-label="Sluiten" class="ml-1 inline-flex h-8 w-8 items-center justify-center rounded-full text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700/60 dark:hover:text-gray-200">
      ✕
    </button>
  </div>
</div>

<script define:vars={{ SHOW_TOAST }} is:inline>
  (function () {
    if (!SHOW_TOAST) return;
    try {
      if (location.pathname!== '/' && location.pathname!== '/index.html') return;
      const KEY = 'niels.homepopup.v2';
      if (localStorage.getItem(KEY) === 'shown') return;

      const el = document.getElementById('hp-pop');
      const ok = document.getElementById('hp-ok');
      const x  = document.getElementById('hp-x');
      if (!el ||!ok ||!x) return;

      const show = () => {
        localStorage.setItem(KEY, 'shown');
        el.classList.remove('hidden');
        if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
          el.animate(
           ,
            { duration: 150, easing: 'ease-out' }
          );
        }
      };
      const hide = () => el.classList.add('hidden');

      window.addEventListener('load', () => setTimeout(show, 2000));
      ok.addEventListener('click', hide);
      x.addEventListener('click', hide);
    } catch {}
  })();
</script>