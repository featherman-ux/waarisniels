---
// src/pages/map.astro
import BaseLayout from '../layouts/BaseLayout.astro';
import LiveMap from '../components/LiveMap.jsx';

const pageTitle = "Kaart";
const pageDescription = "Volg mijn reis live op de kaart.";
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <style>
    :root {
      --orange: #FFB703; /* Koningshuis-oranje */
      --blue:   #023047; /* Geuzen-blauw   */
    }
    header.hero {
      background: var(--orange);
      color: #fff;
      text-align: center;
      padding: 4rem 2rem;
    }
    header.hero h1 { font-size: 2.5rem; margin: 0 0 .5rem; }
    header.hero p  { margin: 0; font-size: 1.1rem; }

    nav.local {
      background: var(--blue);
      display: flex; gap: 1.5rem; justify-content: center;
      padding: .6rem 1rem;
    }
    nav.local a { color: #fff; text-decoration: none; font-weight: 600; }
    nav.local a:hover { text-decoration: underline; }

    .container { max-width: 1100px; margin: 0 auto; padding: 2rem; }
    .card {
      background: #fff;
      border: 1px solid #e5e7eb; border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,.06);
      padding: 1rem;
    }
    .subtle { color: #6b7280; font-size: .95rem; text-align: center; }

    /* Map wrapper, laat de kaart netjes schalen */
    .map-wrap {
      border-radius: 12px; overflow: hidden;
      height: 520px; /* pas aan als je meer of minder hoogte wilt */
    }

    /* Kleine legenda / statusbalk */
    .legend {
      display: flex; gap: .75rem; justify-content: center; align-items: center;
      color: #374151; font-size: .95rem; margin-top: .75rem;
    }
    .dot {
      width: 10px; height: 10px; border-radius: 9999px; display: inline-block;
    }
    .dot-live { background: #10B981; }   /* groen */
    .dot-stale { background: #F59E0B; }  /* oranje */
  </style>

  <nav class="local">
    <a href="/">Home</a>
    <a href="/blog/">Blog</a>
    <a href="/over/">Over</a>
    <a href="/kaart/">Kaart</a>
  </nav>

  <header class="hero">
    <h1>{pageTitle}</h1>
    <p>Deze site is in herontwikkeling—ik heb ’m per ongeluk gesloopt, maar bouw ’m beter terug. Ondertussen kun je de live kaart blijven volgen.</p>
  </header>

  <main class="container">
    <section class="card">
      <div class="map-wrap">
        {/* Jouw live kaart component; laadt aan de client-kant */}
        <LiveMap client:load />
      </div>
      <div class="legend">
        <span class="dot dot-live"></span> Recente update
        <span class="dot dot-stale"></span> Oudere update
      </div>
    </section>

    <p class="subtle" style="margin-top:1rem;">
      De kaart werkt wanneer ik een nieuwe locatie push. Duurt het te lang? Stuur me gerust een berichtje.
    </p>
  </main>
</BaseLayout>